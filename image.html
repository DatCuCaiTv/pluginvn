<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload & Copy Ảnh</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        #preview { max-width: 300px; margin-top: 20px; display: none; }
        #copyButton { display: none; margin-top: 10px; padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>

    <h2>Tải ảnh lên & Sao chép vào Messenger/Zalo</h2>
    <input type="file" id="upload" accept="image/*">
    <br>
    <img id="preview">
    <br>
    <button id="copyButton">Sao chép Ảnh</button>

    <script>
        const upload = document.getElementById("upload");
        const preview = document.getElementById("preview");
        const copyButton = document.getElementById("copyButton");

        upload.addEventListener("change", function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = "block";
                    copyButton.style.display = "inline-block";
                };
                reader.readAsDataURL(file);
            }
        });

        copyButton.addEventListener("click", async function() {
            try {
                const blob = await fetch(preview.src).then(res => res.blob());
                await navigator.clipboard.write([
                    new ClipboardItem({ [blob.type]: blob })
                ]);
                alert("Ảnh đã được sao chép! Dán vào Messenger/Zalo để gửi.");
            } catch (error) {
                alert("Lỗi khi sao chép ảnh! Hãy thử trên Chrome hoặc Edge.");
                console.error(error);
            }
        });
    </script>

</body>
</html>
